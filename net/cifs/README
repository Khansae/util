In order to mount cifs (samba) share on linux:
1. mount with explicit password
2. mount with password in plaintext in file with chmod 600
3. use pam_mount:
cat /etc/security/pam_mount.conf.xml
<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE pam_mount SYSTEM "pam_mount.conf.xml.dtd">

<pam_mount>
...
 uncomment this:
<luserconf name=".pam_mount.conf.xml" />
...

</pam_mount>


and create ~/.pam_mount.conf.xml
with:
cat .pam_mount.conf.xml
<?xml version="1.0" encoding="utf-8" ?>

<pam_mount>

<volume fstype="cifs" server="nas" user="*" path="%(USER)" mountpoint="/mnt/%(USER)" options="nosuid,nodev" />
...

</pam_mount>

this requires that cifs share for given user has same password as unix user
